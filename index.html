<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <title>胡武强 - Technical Art</title>
  <link rel="shortcut icon" href="/theme-img/icon.jpg">
  <link rel='manifest' href='/manifest.json'>
  <link rel="stylesheet" href="/css/var.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/typography.css">
  <link rel="stylesheet" href="/css/nav.css">
  <link rel="stylesheet" href="/css/index.css">
  <meta name="generator" content="Hexo 5.4.0">
</head>
    
<body class="homepage">
    <!-- 语言切换按钮 -->
    <div class="lang-switcher">
        <button class="lang-btn active" data-lang="zh-CN">中</button>
        <span class="lang-divider">/</span>
        <button class="lang-btn" data-lang="en">EN</button>
    </div>

    <!-- 背景图切换容器 -->
    <div class="hero-background">
        <div class="bg-slide active" style="background-image: url('/theme-img/background.jpg')"></div>
        <div class="bg-slide" style="background-image: url('/theme-img/background2.jpg')"></div>
        <div class="bg-slide" style="background-image: url('/theme-img/background3.jpg')"></div>
    </div>

    <!-- 居中卡片 -->
    <div class="hero-card">
        <div class="card-content">
            <p class="card-subtitle" data-i18n="subtitle">技术美术 - 实时渲染 / 工具开发</p>
            <h1 class="card-title" data-i18n="name">胡武强</h1>
            <div class="card-info">
                <p class="card-links">
                    <a href="/demo" data-i18n="links.demo">演示项目</a> | <a href="/archives" data-i18n="links.articles">技术文章</a>
                </p>
                <p class="card-tags" data-i18n="tags">Unity • Unreal Engine • Houdini • Shader</p>
            </div>
            <div class="card-buttons">
                <a href="/demo" class="btn" data-i18n="buttons.games">作品</a>
                <a href="/resume" class="btn" data-i18n="buttons.resume">简历</a>
            </div>
        </div>
    </div>

    <!-- 底部社交图标 -->
    <div class="social-footer">
        <a href="https://github.com/GongShengs" target="_blank" class="social-icon" title="GitHub">
            <img src="/theme-img/github-mark-light.png" alt="GitHub">
        </a>
        <a href="https://www.artstation.com/ub010b709" target="_blank" class="social-icon" title="ArtStation">
            <img src="/theme-img/artstation_logo_dark.png" alt="ArtStation" style="filter: invert(1);">
        </a>
        <a href="https://www.zhihu.com/people/_gongsheng" target="_blank" class="social-icon" title="知乎">
            <img src="/theme-img/zhihu_logo_dark.png" alt="知乎" style="filter: invert(1);">
        </a>
    </div>

    <!-- 背景切换指示器 -->
    <div class="bg-indicators">
        <span class="bg-dot active" data-index="0"></span>
        <span class="bg-dot" data-index="1"></span>
        <span class="bg-dot" data-index="2"></span>
    </div>

    <script src="/js/main.js"></script>
    <script>
        // 背景图片自动切换
        (function() {
            const slides = document.querySelectorAll('.bg-slide');
            const dots = document.querySelectorAll('.bg-dot');
            let current = 0;
            const interval = 5000;
            
            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === index);
                });
                current = index;
            }
            
            setInterval(() => {
                const next = (current + 1) % slides.length;
                showSlide(next);
            }, interval);
            
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => showSlide(index));
            });
        })();

        // 多语言切换
        (function() {
            const langBtns = document.querySelectorAll('.lang-btn');
            let currentLang = localStorage.getItem('lang') || 'zh-CN';
            let i18nData = {};

            // 加载语言配置
            async function loadLang(lang) {
                try {
                    const response = await fetch(`/js/i18n/${lang}.json`);
                    i18nData = await response.json();
                    applyLang();
                    localStorage.setItem('lang', lang);
                    currentLang = lang;
                    
                    // 更新按钮状态
                    langBtns.forEach(btn => {
                        btn.classList.toggle('active', btn.dataset.lang === lang);
                    });
                    
                    // 更新 html lang 属性
                    document.documentElement.lang = lang;
                    
                    // 更新页面标题
                    document.title = i18nData.title;
                } catch (e) {
                    console.error('Failed to load language:', e);
                }
            }

            // 应用语言到页面
            function applyLang() {
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.dataset.i18n;
                    const value = getNestedValue(i18nData, key);
                    if (value) {
                        el.textContent = value;
                    }
                });
            }

            // 获取嵌套对象的值
            function getNestedValue(obj, key) {
                return key.split('.').reduce((o, k) => (o || {})[k], obj);
            }

            // 绑定按钮点击事件
            langBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    loadLang(btn.dataset.lang);
                });
            });

            // 初始化
            loadLang(currentLang);
        })();
    </script>
</body>
</html>
